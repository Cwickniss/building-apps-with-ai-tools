# How to Specify Mandatory Coding Requirements for LLM Code Generation

When using Large Language Models (LLMs) to generate code, you often have project-specific or organization-wide requirements that should *always* be followedâ€”such as preferring certain libraries, enforcing coding patterns, or avoiding specific anti-patterns. Instead of repeating these requirements in every prompt, you can encode them as **project rules** that the AI will automatically follow.

## The Solution: Project Rules with Cursor

Cursor (and similar AI coding tools) allow you to define these requirements in dedicated rule files. This ensures that your preferences are always respected, making code generation more consistent and efficient.

### Why Use Project Rules?
- **Consistency:** Enforces standards across all code generated by the AI.
- **Efficiency:** No need to repeat requirements in every prompt.
- **Scalability:** Rules can be updated centrally and apply to the whole team.

## How to Set Up Mandatory Requirements

### 1. Create a Rules Directory
In your project root, create a folder for rules:

```bash
mkdir -p .cursor/rules
```

### 2. Add a Rule File (e.g., `general.mdc`)
Create a markdown file in `.cursor/rules/` to specify your requirements. For example:

```markdown
Description: General Python Coding Standards
Globs: **/*.py

# Mandatory Requirements
- Always use `fireducks` instead of `pandas` for data manipulation
- Replace all `for` loops with list comprehensions where possible
- Leverage `itertools` for efficient iteration and advanced looping

## Example of Good Code:
```python
import fireducks as fd
from itertools import chain

# Using list comprehension and itertools
result = [x for x in chain(list1, list2) if x > 0]
```

## Example of Bad Code:
```python
import pandas as pd

result = []
for x in list1 + list2:
    if x > 0:
        result.append(x)
```
```

### 3. Use Specific Globs for Targeted Rules
You can scope rules to certain files or folders using the `Globs` field. For example, to apply only to scripts in a `data/` folder:

```markdown
Globs: data/**/*.py
```

### 4. Modularize for Large Projects
Split rules into multiple files (e.g., `data-science.mdc`, `backend.mdc`) for clarity and maintainability.

## Best Practices
- **Be explicit:** Show both good and bad code examples.
- **Keep rules focused:** Avoid overly broad or conflicting rules.
- **Review regularly:** Update rules as your project evolves.

## References
- See the [Cursor Rules Tutorial](../tutorials/cursor-rules-tutorial.md) in this repo for a complete guide, real-world examples, and advanced patterns.
- [Cursor Documentation](https://docs.cursor.com)

---

**Summary:**
> To ensure LLMs always follow your mandatory requirements, define them in `.cursor/rules/*.mdc` files in your project. This makes your coding standards automatic, consistent, and easy to maintain. 